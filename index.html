<!DOCTYPE html>
<html lang="si">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AGENT NISHAN</title>
  <meta name="theme-color" content="#0b1a40"/>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800;900&family=Montserrat:wght@700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --primary:#1f57ff;
      --bg-1:#0a1d5e;
      --bg-2:#0b1a40;
      --text:#eaf1ff;
      --muted:#a8b3d9;

      --ok:#16a34a;

      --whatsapp:#25D366;   --whatsapp-rgb:37,211,102;
      --call:#0ea5e9;       --call-rgb:14,165,233;
      --email:#ea4335;      --email-rgb:234,67,53;

      --brand-blue:#1f57ff;
      --brand-red:#ff2d55;
      --brand-yellow:#fec400;

      --shadow: 0 10px 30px rgba(9, 20, 60, .35);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    html{background:#0b1a40;}
    body{
      margin:0;
      font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      color:var(--text);
      background: linear-gradient(180deg, var(--bg-1), var(--bg-2));
      overflow-x:hidden;
    }

    /* Floating money background layer (page) */
    .money-bg{position:fixed; inset:0; z-index:0; pointer-events:none; overflow:hidden}
    .note{
      position:absolute; top:var(--y, 20vh); left:-20vw; width:var(--size, 80px);
      opacity:var(--op, .12); animation:drift var(--d, 28s) linear var(--del, 0s) infinite both; will-change: transform;
    }
    .note.rtl{left:auto; right:-20vw; animation-name:drift-rtl}
    .note svg{
      width:100%; height:auto; display:block; filter:drop-shadow(0 6px 14px rgba(0,0,0,.25));
      transform:rotate(var(--rot, 0deg)); animation:floaty var(--s, 6s) ease-in-out infinite alternate; will-change: transform;
    }
    @keyframes drift{to{transform:translateX(140vw)}}
    @keyframes drift-rtl{to{transform:translateX(-140vw)}}
    @keyframes floaty{from{transform:translateY(-8px) rotate(var(--rot,0))} to{transform:translateY(8px) rotate(var(--rot,0))}}

    /* Splash */
    .splash{position:fixed; inset:0; z-index:9999; display:grid; place-items:center; background:linear-gradient(180deg,#1f57ff,#1432b5); transition:opacity .6s, visibility .6s; overflow:hidden}
    .splash.hide{opacity:0; visibility:hidden}
    .splash .money-bg{position:absolute !important; inset:0; z-index:0; opacity:.9}
    .splash-content{display:flex; flex-direction:column; align-items:center; position:relative; z-index:1}
    .ring{width:220px; height:220px; border-radius:50%; position:relative; display:grid; place-items:center; filter:drop-shadow(0 8px 30px rgba(0,0,0,.35))}
    .ring::before{
      content:""; position:absolute; inset:0; border-radius:50%; padding:8px;
      background:conic-gradient(from 0deg,#9ec4ff,#1d4ed8,#60a5fa,#1d4ed8,#9ec4ff);
      -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0); -webkit-mask-composite:xor; mask-composite:exclude;
      animation:spin 2.2s linear infinite;
    }
    .splash-logo-wrap{width:176px; height:176px; background:#fff; border-radius:50%; display:grid; place-items:center; overflow:hidden; position:relative}
    .bot-icon-lg{width:120px; height:120px}
    .splash-title{margin-top:18px; font-size:28px; font-weight:800; letter-spacing:2px; text-transform:uppercase; animation:fadeUp .9s ease both .15s}
    @keyframes spin{to{transform:rotate(360deg)}} @keyframes fadeUp{from{opacity:0; transform:translateY(8px)} to{opacity:1; transform:translateY(0)}}

    /* Online animations */
    @keyframes ping{0%{transform:scale(1); opacity:.75} 70%{transform:scale(2.1); opacity:0} 100%{opacity:0}}
    @keyframes greenShimmer{0%{background-position:0% 0} 100%{background-position:200% 0}}
    @keyframes glowPulse{
      0%{box-shadow:0 0 0 0 rgba(34,197,94,.28), 0 0 16px 0 rgba(34,197,94,.2)}
      50%{box-shadow:0 0 0 6px rgba(34,197,94,0), 0 0 24px 6px rgba(34,197,94,.35)}
      100%{box-shadow:0 0 0 0 rgba(34,197,94,0), 0 0 16px 0 rgba(34,197,94,.2)}
    }
    @keyframes btnGlow{
      0%{box-shadow:0 0 0 0 rgba(var(--btn-rgb), .22), 0 0 16px 0 rgba(var(--btn-rgb), .25)}
      50%{box-shadow:0 0 0 6px rgba(var(--btn-rgb), 0), 0 0 26px 6px rgba(var(--btn-rgb), .45)}
      100%{box-shadow:0 0 0 0 rgba(var(--btn-rgb), .25), 0 0 16px 0 rgba(var(--btn-rgb), .25)}
    }

    /* App wrapper */
    .app{position:relative; z-index:1; opacity:0; transform:translateY(10px); transition:opacity .5s, transform .5s}
    .app.show{opacity:1; transform:translateY(0)}
    .container{max-width:960px; margin:0 auto; padding:22px 18px 40px}

    /* Header */
    .top{display:flex; align-items:center; gap:16px; margin-top:8px; margin-bottom:18px}
    .logo-badge{width:74px; height:74px; border-radius:16px; display:grid; place-items:center; background:#ffffff; box-shadow:var(--shadow)}
    .bot-icon{width:50px; height:50px}
    .brand{display:flex; flex-direction:column; gap:6px}
    .brand h1{font-size:24px; margin:0; font-weight:900; letter-spacing:.6px}

    /* Online badge */
    .online{
      position:relative; display:inline-flex; align-items:center; gap:6px; color:#dfffe7;
      background:linear-gradient(90deg, rgba(34,197,94,.18), rgba(34,197,94,.38), rgba(34,197,94,.18)); background-size:200% 100%;
      border:1px solid rgba(22,163,74,.45); padding:2px 8px; border-radius:999px; font-weight:800; font-size:12px;
      width:auto; max-width:max-content; white-space:nowrap;
      animation:greenShimmer 2.8s linear infinite, glowPulse 1.8s ease-in-out infinite;
    }
    .online .dot{position:relative; width:8px; height:8px; border-radius:50%; background:var(--ok)}
    .online .dot::after{content:""; position:absolute; inset:0; border-radius:50%; background:rgba(34,197,94,.35); animation:ping 1.6s ease-out infinite}
    .online .count{font-variant-numeric: tabular-nums}

    /* Card */
    .card{background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02)); border:1px solid rgba(255,255,255,.08); box-shadow:var(--shadow); border-radius:16px; padding:16px}

    /* Buttons (with effect) */
    .btn{
      position:relative; display:flex; align-items:center; gap:12px; width:100%;
      padding:16px 18px; border-radius:16px; border:1px solid transparent; outline:none;
      text-decoration:none; color:#fff; font-weight:800; letter-spacing:.3px; cursor:pointer; background:rgba(255,255,255,.06);
    }
    .btn svg{width:22px; height:22px; flex:0 0 22px}
    .btn + .btn{margin-top:14px}
    .btn.effect{background:linear-gradient(90deg, rgba(var(--btn-rgb), .22), rgba(var(--btn-rgb), .45), rgba(var(--btn-rgb), .22)); background-size:200% 100%; border-color:rgba(var(--btn-rgb), .45); animation:greenShimmer 2.8s linear infinite, btnGlow 1.8s ease-in-out infinite}

    .btn-whatsapp{--btn-rgb:var(--whatsapp-rgb)}
    .btn-call{--btn-rgb:var(--call-rgb)}
    .btn-email{--btn-rgb:var(--email-rgb)}
    .btn-bank{--btn-rgb:236,72,153}
    .btn-chat{--btn-rgb:99,102,241} /* Indigo */

    /* Equal English font style */
    .btn-eng{
      font-family: 'Montserrat', 'Poppins', 'Segoe UI', Roboto, Arial, sans-serif;
      text-transform: uppercase;
      letter-spacing: .6px;
      font-size: 16px;
      line-height: 1.1;
    }

    /* Keep BANK DETAILS in one line */
    #bank-btn{ white-space: nowrap; }

    /* Service title */
    .service-title{
      font-family:'Montserrat','Poppins','Segoe UI',Roboto,Arial,sans-serif;
      color:var(--brand-yellow);
      font-weight:900;
      text-transform:uppercase;
      letter-spacing:1px;
      font-size:18px;
      text-align:center;
      margin-bottom:8px;
      text-shadow:0 0 14px rgba(254,196,0,.25);
    }

    /* Mini badges row under NISHAN SERVICE */
    .badge-row{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      justify-content:center;
      margin: 4px 0 12px;
    }
    .mini-badge{
      --btn-rgb: 34,197,94;
      display:inline-flex; align-items:center; gap:8px;
      color:#fff; font-weight:800; font-size:12px; letter-spacing:.3px;
      padding:4px 10px; border-radius:999px; text-decoration:none; border:1px solid rgba(var(--btn-rgb), .45);
      background:linear-gradient(90deg, rgba(var(--btn-rgb), .18), rgba(var(--btn-rgb), .38), rgba(var(--btn-rgb), .18));
      background-size:200% 100%;
      animation:greenShimmer 2.8s linear infinite, btnGlow 1.8s ease-in-out infinite;
      filter: drop-shadow(0 0 10px rgba(var(--btn-rgb), .45));
    }
    .mini-badge svg{width:14px; height:14px; flex:0 0 14px; display:block; fill:currentColor}
    .badge-yt{ --btn-rgb: var(--email-rgb); }
    .badge-rev{ --btn-rgb: var(--call-rgb); }

    /* AVAILABLE SITE */
    .brands{margin-top:18px}
    .available-title{
      margin:0 0 12px 0; font-size:16px; font-weight:900; letter-spacing:.3px; color:#22c55e;
      display:flex; align-items:center; gap:8px;
    }
    .ok-icon{width:18px; height:18px; color:#22c55e; flex:0 0 18px}

    .brand-grid{
      display:grid;
      grid-template-columns:repeat(2, minmax(0,1fr));
      gap:14px
    }
    .brand-tag{
      position:relative;
      display:flex; align-items:center; justify-content:center; min-height:64px; border-radius:14px; padding:10px;
      background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      border:1px solid rgba(255,255,255,.08);
      text-transform:uppercase; font-weight:900; letter-spacing:.8px; font-size:20px; text-align:center;
      text-decoration:none; color:inherit; cursor:pointer;
    }
    .brand-tag span{ font-size:1em; line-height:1; font-weight:900; }

    .brand-note{text-align:center; color:#a8b3d9; margin-top:10px; font-size:14px}
    .brand-note-en{text-align:center; color:#cfe4ff; margin-top:4px; font-size:13px; font-weight:800; letter-spacing:.5px}
    .c-white{color:#ffffff} .c-blue{color:#1f57ff} .c-red{color:#ff2d55} .c-yellow{color:#fec400}

    /* Promo */
    .promo{margin-top:18px; display:flex; flex-direction:column; align-items:center; gap:12px; text-align:center}
    .promo-line{ margin:0; font-size:16px; font-weight:600; }
    .code-badge{
      display:inline-flex; align-items:center; gap:10px;
      background:rgba(255,255,255,.06); border:1px dashed rgba(255,255,255,.25);
      padding:10px 14px; border-radius:12px; font-weight:900; letter-spacing:.5px; user-select:all; cursor:pointer;
    }
    .btn-copy{--btn-rgb:34,197,94; width:auto; align-self:center; padding:12px 14px; border-radius:12px}
    .btn-copy svg{width:18px; height:18px}
    .btn-copy, .btn-copy.effect{ border:none !important; outline:none !important; box-shadow:none !important; text-decoration:none !important; }
    .btn-copy:focus, .btn-copy:active{ outline:none !important; box-shadow:none !important; }

    /* Toast */
    .toast{
      position:fixed; left:50%; bottom:24px; transform:translateX(-50%) translateY(20px);
      padding:10px 14px; border-radius:12px; font-weight:800; color:#fff;
      border:1px solid transparent; background:rgba(255,255,255,.06);
      opacity:0; pointer-events:none; transition:opacity .25s ease, transform .25s ease;
      z-index:10000;
    }
    .toast.effect{
      --btn-rgb: var(--whatsapp-rgb);
      background:linear-gradient(90deg, rgba(var(--btn-rgb), .22), rgba(var(--btn-rgb), .45), rgba(var(--btn-rgb), .22));
      background-size:200% 100%;
      border-color:rgba(var(--btn-rgb), .45);
      animation:greenShimmer 2.8s linear infinite, btnGlow 1.8s ease-in-out infinite;
    }
    .toast.show{opacity:1; transform:translateX(-50%) translateY(0)}

    /* Modal (shared) */
    .modal{position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(2,6,23,.6); backdrop-filter:blur(2px); z-index:10040}
    .modal.show{display:flex}

    /* Generic modal card */
    .modal-card{
      width:min(780px,94vw); max-height:86vh; overflow:auto;
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:1px solid rgba(255,255,255,.12); border-radius:16px; box-shadow:0 20px 60px rgba(0,0,0,.45);
      padding:16px;
    }
    .modal-top{display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:8px}
    .modal-title{margin:0; font-size:20px; font-weight:900; letter-spacing:.5px}
    .btn-close{
      background:#ef4444; color:#fff; border:none; border-radius:10px; font-weight:800; padding:8px 10px; cursor:pointer;
      font-family: 'Montserrat', 'Poppins', 'Segoe UI', Roboto, Arial, sans-serif;
      text-transform: uppercase; letter-spacing:.5px;
    }

    .alert-red{
      border:1px solid rgba(239,68,68,.7); background:linear-gradient(180deg, rgba(239,68,68,.18), rgba(239,68,68,.08));
      color:#ffe8e8; padding:12px; border-radius:12px; margin:8px 0 14px; font-weight:700
    }
    .alert-red .title{color:#ff6b6b; font-weight:900; margin-bottom:6px}

    .bank{background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02)); border:1px solid rgba(255,255,255,.1); border-radius:14px; padding:12px; margin-top:12px}
    .bank-head{display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:8px}
    .bank-name{display:flex; align-items:center; gap:8px; font-weight:900; font-size:18px}
    .bank-logo{width:22px; height:22px; color:#fff; flex:0 0 22px}
    .bank-logo-lg{width:28px; height:28px; flex:0 0 28px} /* bigger logo for LOLC */
    .copy-all{--btn-rgb:34,197,94; background:linear-gradient(90deg, rgba(var(--btn-rgb), .22), rgba(var(--btn-rgb), .45), rgba(var(--btn-rgb), .22)); background-size:200% 100%; border:1px solid rgba(var(--btn-rgb), .45); color:#fff; border-radius:10px; padding:6px 10px; font-weight:800; cursor:pointer; animation:greenShimmer 2.8s linear infinite, btnGlow 1.8s ease-in-out infinite; font-family:'Montserrat',sans-serif; text-transform:uppercase; letter-spacing:.5px}
    .row{display:grid; grid-template-columns:1.1fr auto 1fr auto; gap:10px; align-items:center; padding:8px 10px; border-radius:10px; background:rgba(255,255,255,.03); border:1px solid rgba(255,255,255,.08); margin-top:6px}
    .label{color:#dfe7ff; font-weight:700}
    .arrow{opacity:.7}
    .value{font-weight:900; color:#fff}
    .row-copy{
      background:#22c55e; color:#fff; border:none; border-radius:8px; font-weight:800; padding:6px 8px; cursor:pointer;
      display:inline-flex; align-items:center; gap:6px; font-family:'Montserrat',sans-serif; text-transform:uppercase; letter-spacing:.4px;
    }
    .row-copy svg{width:16px; height:16px}

    /* Live Chat modal */
    .chat-card{
      width:min(780px,94vw); height:min(80vh,720px);
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:1px solid rgba(255,255,255,.12); border-radius:16px; box-shadow:0 20px 60px rgba(0,0,0,.45);
      display:flex; flex-direction:column; overflow:hidden;
    }
    .chat-top{
      display:flex; align-items:center; justify-content:space-between; gap:10px; padding:12px 14px;
      border-bottom:1px solid rgba(255,255,255,.08);
      background:linear-gradient(90deg, rgba(31,87,255,.2), rgba(31,87,255,.05));
    }
    .chat-title{margin:0; font-size:18px; font-weight:900; letter-spacing:.5px; display:flex; align-items:center; gap:8px}
    .chat-title .dot{width:8px; height:8px; border-radius:50%; background:#22c55e; position:relative}
    .chat-title .dot::after{content:""; position:absolute; inset:0; border-radius:50%; background:rgba(34,197,94,.35); animation:ping 1.6s ease-out infinite}

    .chat-body{
      position:relative; flex:1; overflow:auto; padding:14px;
      background:
        radial-gradient(800px 400px at 80% -10%, #2a55ff33, transparent 70%),
        radial-gradient(600px 300px at -10% 110%, #16a34a22, transparent 70%),
        repeating-linear-gradient(45deg, rgba(255,255,255,.04) 0, rgba(255,255,255,.04) 2px, transparent 2px, transparent 6px);
    }
    .chat-msg{
      max-width:78%; margin:6px 0; padding:10px 12px; border-radius:12px; line-height:1.35; font-weight:600;
      border:1px solid rgba(255,255,255,.08);
      background:rgba(255,255,255,.06);
      word-break:break-word;
    }
    .chat-msg.you{ margin-left:auto; background:linear-gradient(180deg, rgba(31,87,255,.25), rgba(31,87,255,.15)); border-color:rgba(31,87,255,.45) }
    .chat-msg.other{ margin-right:auto; background:linear-gradient(180deg, rgba(34,197,94,.22), rgba(34,197,94,.12)); border-color:rgba(34,197,94,.35) }
    .chat-time{display:block; margin-top:4px; opacity:.7; font-size:11px; font-weight:700}
    .status{display:block; margin-top:4px; opacity:.7; font-size:11px; font-weight:700}
    .sent{opacity:.65}
    .failed{color:#fecaca}
    .deleted{opacity:.55}

    .chat-input-row{
      display:flex; align-items:center; gap:10px; padding:10px; border-top:1px solid rgba(255,255,255,.08); background:rgba(0,0,0,.15);
    }
    .chat-input{
      flex:1; resize:none; height:44px; max-height:120px;
      padding:10px 12px; border-radius:12px; border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.06); color:#fff; font-weight:600; outline:none;
    }
    .chat-send{
      background:#22c55e; color:#fff; border:none; border-radius:12px; font-weight:900; padding:12px 14px; cursor:pointer;
      display:inline-flex; align-items:center; gap:8px; text-transform:uppercase; letter-spacing:.4px;
    }
    .chat-send svg{width:18px; height:18px}

    .name-gate{
      position:absolute; inset:0; background:rgba(2,6,23,.6); backdrop-filter:blur(2px);
      display:flex; align-items:center; justify-content:center; z-index:2;
    }
    .name-card{
      width:min(520px,92vw); background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
      border:1px solid rgba(255,255,255,.15); border-radius:14px; padding:14px;
      box-shadow:0 10px 30px rgba(0,0,0,.45);
    }
    .name-title{margin:0 0 8px; font-weight:900; font-size:18px}
    .name-row{display:flex; gap:8px}
    .name-input{
      flex:1; padding:10px 12px; border-radius:10px; border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.06); color:#fff; font-weight:700; outline:none;
    }
    .name-start{
      background:#1f57ff; color:#fff; border:none; border-radius:10px; font-weight:900; padding:10px 14px; cursor:pointer;
      text-transform:uppercase; letter-spacing:.4px;
    }

    @media (prefers-reduced-motion: reduce){
      .ring::before,.online,.online .dot::after,.btn.effect,.toast.effect,.copy-all{animation:none}
      .app{transition:none}
      .money-bg{display:none}
      .mini-badge{animation:none}
    }

    /* Withdrawal Info content styles (modal) */
    .withdrawal-title{
      margin:0 0 10px; font-size:18px; font-weight:900; letter-spacing:.5px;
      text-align:center; color:var(--brand-yellow); text-transform:uppercase;
      text-shadow:0 0 14px rgba(254,196,0,.25);
    }
    .withdrawal-note{
      border:1px dashed rgba(255,255,255,.25);
      background:rgba(255,255,255,.06);
      padding:10px 12px; border-radius:12px;
      color:#cfe4ff; font-weight:800; text-align:center;
      margin:0 0 12px;
    }
    .addr-grid{display:grid; grid-template-columns:repeat(2, minmax(0,1fr)); gap:12px}
    .addr-block{
      background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      border:1px solid rgba(255,255,255,.08); border-radius:12px; padding:10px;
    }
    .addr-brand{
      text-align:center; font-weight:900; letter-spacing:.8px; text-transform:uppercase;
      font-size:18px; margin-bottom:8px;
    }
    .addr-row{
      display:grid; grid-template-columns:auto 16px 1fr; gap:8px; align-items:center;
      background:rgba(255,255,255,.03); border:1px solid rgba(255,255,255,.08);
      border-radius:10px; padding:8px 10px; font-weight:700;
    }
    .addr-row + .addr-row{margin-top:6px}
    .addr-row .label{color:#dfe7ff; font-weight:700}
    .addr-row .value{font-weight:900; color:#fff}
    @media (max-width: 520px){
      .addr-grid{grid-template-columns:1fr}
    }

    /* Actions grid layout */
    .actions-grid{
      display:grid;
      grid-template-columns:repeat(2, minmax(0,1fr));
      gap:14px;
    }
    .actions-grid .btn{margin:0}
    .span-2{grid-column:1 / -1}
    /* Note: Keep two columns on all screens as requested */
  </style>
</head>
<body>

  <!-- Floating money background (page) -->
  <div class="money-bg" aria-hidden="true">
    <div class="note" style="--y:6vh; --size:90px; --d:30s; --del:0s; --rot:-10deg; --s:7s; --op:.13;"><svg viewBox="0 0 120 60" xmlns="http://www.w3.org/2000/svg"><rect x="1" y="1" width="118" height="58" rx="10" fill="#16c78422" stroke="#22c55e" stroke-width="2"/><rect x="10" y="10" width="100" height="40" rx="8" fill="#16a34a33"/><circle cx="60" cy="30" r="13" fill="#ffffffdd"/><text x="60" y="35" font-size="18" font-weight="800" text-anchor="middle" fill="#16a34a">$</text></svg></div>
    <div class="note" style="--y:22vh; --size:70px; --d:36s; --del:3s; --rot:14deg; --s:6s; --op:.12;"><svg viewBox="0 0 120 60" xmlns="http://www.w3.org/2000/svg"><rect x="1" y="1" width="118" height="58" rx="10" fill="#16c78422" stroke="#22c55e" stroke-width="2"/><rect x="10" y="10" width="100" height="40" rx="8" fill="#16a34a33"/><circle cx="60" cy="30" r="13" fill="#ffffffdd"/><text x="60" y="35" font-size="18" font-weight="800" text-anchor="middle" fill="#16a34a">$</text></svg></div>
    <div class="note" style="--y:40vh; --size:110px; --d:44s; --del:6s; --rot:-8deg; --s:8s; --op:.1;"><svg viewBox="0 0 120 60" xmlns="http://www.w3.org/2000/svg"><rect x="1" y="1" width="118" height="58" rx="10" fill="#16c78422" stroke="#22c55e" stroke-width="2"/><rect x="10" y="10" width="100" height="40" rx="8" fill="#16a34a33"/><circle cx="60" cy="30" r="13" fill="#ffffffdd"/><text x="60" y="35" font-size="18" font-weight="800" text-anchor="middle" fill="#16a34a">$</text></svg></div>
    <div class="note" style="--y:68vh; --size:80px; --d:38s; --del:10s; --rot:6deg; --s:7.5s; --op:.14;"><svg viewBox="0 0 120 60" xmlns="http://www.w3.org/2000/svg"><rect x="1" y="1" width="118" height="58" rx="10" fill="#16c78422" stroke="#22c55e" stroke-width="2"/><rect x="10" y="10" width="100" height="40" rx="8" fill="#16a34a33"/><circle cx="60" cy="30" r="13" fill="#ffffffdd"/><text x="60" y="35" font-size="18" font-weight="800" text-anchor="middle" fill="#16a34a">$</text></svg></div>

    <div class="note rtl" style="--y:12vh; --size:75px; --d:34s; --del:2s; --rot:10deg; --s:6.5s; --op:.12;"><svg viewBox="0 0 120 60" xmlns="http://www.w3.org/2000/svg"><rect x="1" y="1" width="118" height="58" rx="10" fill="#16c78422" stroke="#22c55e" stroke-width="2"/><rect x="10" y="10" width="100" height="40" rx="8" fill="#16a34a33"/><circle cx="60" cy="30" r="13" fill="#ffffffdd"/><text x="60" y="35" font-size="18" font-weight="800" text-anchor="middle" fill="#16a34a">$</text></svg></div>
    <div class="note rtl" style="--y:30vh; --size:95px; --d:40s; --del:5s; --rot:-12deg; --s:7s; --op:.1;"><svg viewBox="0 0 120 60" xmlns="http://www.w3.org/2000/svg"><rect x="1" y="1" width="118" height="58" rx="10" fill="#16c78422" stroke="#22c55e" stroke-width="2"/><rect x="10" y="10" width="100" height="40" rx="8" fill="#16a34a33"/><circle cx="60" cy="30" r="13" fill="#ffffffdd"/><text x="60" y="35" font-size="18" font-weight="800" text-anchor="middle" fill="#16a34a">$</text></svg></div>
    <div class="note rtl" style="--y:52vh; --size:65px; --d:28s; --del:8s; --rot:18deg; --s:5.8s; --op:.13;"><svg viewBox="0 0 120 60" xmlns="http://www.w3.org/2000/svg"><rect x="1" y="1" width="118" height="58" rx="10" fill="#16c78422" stroke="#22c55e" stroke-width="2"/><rect x="10" y="10" width="100" height="40" rx="8" fill="#16a34a33"/><circle cx="60" cy="30" r="13" fill="#ffffffdd"/><text x="60" y="35" font-size="18" font-weight="800" text-anchor="middle" fill="#16a34a">$</text></svg></div>
    <div class="note rtl" style="--y:78vh; --size:100px; --d:48s; --del:12s; --rot:-6deg; --s:8.5s; --op:.11;"><svg viewBox="0 0 120 60" xmlns="http://www.w3.org/2000/svg"><rect x="1" y="1" width="118" height="58" rx="10" fill="#16c78422" stroke="#22c55e" stroke-width="2"/><rect x="10" y="10" width="100" height="40" rx="8" fill="#16a34a33"/><circle cx="60" cy="30" r="13" fill="#ffffffdd"/><text x="60" y="35" font-size="18" font-weight="800" text-anchor="middle" fill="#16a34a">$</text></svg></div>
  </div>

  <!-- Splash with money notes background -->
  <div id="splash" class="splash" aria-label="Loading">
    <div class="money-bg" aria-hidden="true">
      <div class="note" style="--y:10vh; --size:70px; --d:32s; --del:0s; --rot:-10deg; --s:6.5s; --op:.12;"><svg viewBox="0 0 120 60" xmlns="http://www.w3.org/2000/svg"><rect x="1" y="1" width="118" height="58" rx="10" fill="#16c78422" stroke="#22c55e" stroke-width="2"/><rect x="10" y="10" width="100" height="40" rx="8" fill="#16a34a33"/><circle cx="60" cy="30" r="13" fill="#ffffffee"/><text x="60" y="35" font-size="18" font-weight="800" text-anchor="middle" fill="#16a34a">$</text></svg></div>
      <div class="note" style="--y:28vh; --size:90px; --d:40s; --del:2s; --rot:8deg; --s:7.5s; --op:.11;"><svg viewBox="0 0 120 60" xmlns="http://www.w3.org/2000/svg"><rect x="1" y="1" width="118" height="58" rx="10" fill="#16c78422" stroke="#22c55e" stroke-width="2"/><rect x="10" y="10" width="100" height="40" rx="8" fill="#16a34a33"/><circle cx="60" cy="30" r="13" fill="#ffffffee"/><text x="60" y="35" font-size="18" font-weight="800" text-anchor="middle" fill="#16a34a">$</text></svg></div>
      <div class="note" style="--y:56vh; --size:75px; --d:34s; --del:5s; --rot:-6deg; --s:6.8s; --op:.12;"><svg viewBox="0 0 120 60" xmlns="http://www.w3.org/2000/svg"><rect x="1" y="1" width="118" height="58" rx="10" fill="#16c78422" stroke="#22c55e" stroke-width="2"/><rect x="10" y="10" width="100" height="40" rx="8" fill="#16a34a33"/><circle cx="60" cy="30" r="13" fill="#ffffffee"/><text x="60" y="35" font-size="18" font-weight="800" text-anchor="middle" fill="#16a34a">$</text></svg></div>

      <div class="note rtl" style="--y:18vh; --size:80px; --d:36s; --del:1s; --rot:10deg; --s:7s; --op:.11;"><svg viewBox="0 0 120 60" xmlns="http://www.w3.org/2000/svg"><rect x="1" y="1" width="118" height="58" rx="10" fill="#16c78422" stroke="#22c55e" stroke-width="2"/><rect x="10" y="10" width="100" height="40" rx="8" fill="#16a34a33"/><circle cx="60" cy="30" r="13" fill="#ffffffee"/><text x="60" y="35" font-size="18" font-weight="800" text-anchor="middle" fill="#16a34a">$</text></svg></div>
      <div class="note rtl" style="--y:42vh; --size:95px; --d:44s; --del:4s; --rot:-12deg; --s:8s; --op:.1;"><svg viewBox="0 0 120 60" xmlns="http://www.w3.org/2000/svg"><rect x="1" y="1" width="118" height="58" rx="10" fill="#16c78422" stroke="#22c55e" stroke-width="2"/><rect x="10" y="10" width="100" height="40" rx="8" fill="#16a34a33"/><circle cx="60" cy="30" r="13" fill="#ffffffee"/><text x="60" y="35" font-size="18" font-weight="800" text-anchor="middle" fill="#16a34a">$</text></svg></div>
      <div class="note rtl" style="--y:70vh; --size:72px; --d:30s; --del:7s; --rot:14deg; --s:6.2s; --op:.12;"><svg viewBox="0 0 120 60" xmlns="http://www.w3.org/2000/svg"><rect x="1" y="1" width="118" height="58" rx="10" fill="#16c78422" stroke="#22c55e" stroke-width="2"/><rect x="10" y="10" width="100" height="40" rx="8" fill="#16a34a33"/><circle cx="60" cy="30" r="13" fill="#ffffffee"/><text x="60" y="35" font-size="18" font-weight="800" text-anchor="middle" fill="#16a34a">$</text></svg></div>
    </div>

    <div class="splash-content">
      <div class="ring">
        <div class="splash-logo-wrap" aria-label="Bot icon">
          <svg class="bot-icon-lg" viewBox="0 0 128 128" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <rect x="20" y="34" width="88" height="68" rx="14" fill="#1f57ff"/>
            <circle cx="48" cy="68" r="10" fill="#ffffff"/>
            <circle cx="80" cy="68" r="10" fill="#ffffff"/>
            <rect x="56" y="86" width="16" height="10" rx="3" fill="#ffffff"/>
            <rect x="58" y="22" width="12" height="14" rx="6" fill="#1f57ff"/>
            <circle cx="64" cy="20" r="6" fill="#1f57ff"/>
            <rect x="10" y="58" width="12" height="26" rx="6" fill="#1f57ff"/>
            <rect x="106" y="58" width="12" height="26" rx="6" fill="#1f57ff"/>
          </svg>
        </div>
      </div>
      <div class="splash-title">AGENT NISHAN</div>
    </div>
  </div>

  <!-- App -->
  <main id="app" class="app" aria-hidden="true">
    <div class="container">

      <!-- Header -->
      <header class="top">
        <div class="logo-badge" aria-hidden="true">
          <svg class="bot-icon" viewBox="0 0 128 128" xmlns="http://www.w3.org/2000/svg">
            <rect x="20" y="34" width="88" height="68" rx="14" fill="#1f57ff"/>
            <circle cx="48" cy="68" r="10" fill="#ffffff"/>
            <circle cx="80" cy="68" r="10" fill="#ffffff"/>
            <rect x="56" y="86" width="16" height="10" rx="3" fill="#ffffff"/>
            <rect x="58" y="22" width="12" height="14" rx="6" fill="#1f57ff"/>
            <circle cx="64" cy="20" r="6" fill="#1f57ff"/>
            <rect x="10" y="58" width="12" height="26" rx="6" fill="#1f57ff"/>
            <rect x="106" y="58" width="12" height="26" rx="6" fill="#1f57ff"/>
          </svg>
        </div>
        <div class="brand">
          <h1>AGENT NISHAN</h1>
          <span class="online" aria-live="polite" aria-label="Users online right now">
            <span class="dot"></span>
            Online
            <span id="online-count" class="count">120</span>
          </span>
        </div>
      </header>

      <!-- Actions -->
      <section class="card section" aria-label="Quick actions">
        <div class="service-title">NISHAN SERVICE</div>

        <!-- Mini badges -->
        <div class="badge-row">
          <a class="mini-badge badge-yt" href="https://youtube.com/@agentnishan?si=weTKrUI7y4e8bJHY" target="_blank" rel="noopener" aria-label="Open YouTube channel">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M23.5 6.2a3 3 0 0 0-2.1-2.1C19.3 3.5 12 3.5 12 3.5s-7.3 0-9.4.6A3 3 0 0 0 .5 6.2 31 31 0 0 0 0 12a31 31 0 0 0 .5 5.8 3 3 0 0 0 2.1 2.1c2.1.6 9.4.6 9.4.6s7.3 0 9.4-.6a3 3 0 0 0 2.1-2.1A31 31 0 0 0 24 12a31 31 0 0 0-.5-5.8ZM9.75 15.02V8.98L15.5 12l-5.75 3.02Z"/></svg>
            YOUTUBE
          </a>
          <a class="mini-badge badge-rev" href="https://m.facebook.com/story.php?story_fbid=1443830330142185&id=100035456943071&mibextid=ZbWKwL" target="_blank" rel="noopener" aria-label="Open Facebook reviews">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2 9.6 8.2 2.9 8.8l5.3 4.5-1.7 6.7L12 16.7l5.5 3.3-1.7-6.7 5.3-4.5-6.7-.6L12 2Z"/></svg>
            REVIEWS
          </a>
        </div>

        <!-- Actions Grid -->
        <div class="actions-grid">
          <!-- 1 line: WhatsApp | Call -->
          <a class="btn btn-whatsapp effect btn-eng" href="https://wa.me/qr/RES23KVH34XOG1" target="_blank" rel="noopener" aria-label="Open WhatsApp chat">
            <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M20.52 3.48A11.8 11.8 0 0 0 12.05 0C5.6 0 .34 5.26.34 11.72c0 2.07.54 4.09 1.57 5.88L0 24l6.6-1.88a11.54 11.54 0 0 0 5.45 1.39h.01c6.45 0 11.71-5.26 11.71-11.71 0-3.13-1.22-6.07-3.25-8.32ZM12.06 21.3h-.01c-1.76 0-3.49-.47-5-1.37l-.36-.21-3.92 1.12 1.05-3.82-.23-.39a9.86 9.86 0 0 1-1.5-5.31C2.09 6.2 6.28 2 11.73 2c2.63 0 5.11 1.03 6.97 2.9a9.83 9.83 0 0 1 2.88 6.96c0 5.45-4.45 9.44-9.52 9.44Zm5.52-7.12c-.3-.15-1.77-.87-2.05-.97-.28-.1-.48-.15-.68.15-.2.3-.78.96-.96 1.15-.18.2-.35.22-.65.07-.3-.15-1.27-.47-2.42-1.5-.89-.79-1.49-1.77-1.66-2.07-.17-.3-.02-.47 .13-.62.13-.13.3-.35.45-.52.15-.17.2-.3.3-.5.1-.2.05-.38-.02-.53-.07-.15-.68-1.64-.93-2.25-.24-.57-.49-.49-.68-.5l-.58-.01c-.2 0-.52 .07-.8 .38-.28 .3-1.06 1.03-1.06 2.52 0 1.48 1.09 2.92 1.25 3.12.15 .2 2.14 3.27 5.2 4.48.73 .32 1.3 .5 1.74 .64.73 .23 1.4 .2 1.93 .12.59 -.09 1.77 -.72 2.02 -1.41.25 -.7.25 -1.31.18 -1.44 -.07 -.13 -.26 -.2 -.56 -.35Z"/></svg>
            WHATSAPP
          </a>

          <a class="btn btn-call effect btn-eng" href="tel:0781519931" aria-label="Call 0781519931">
            <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M2.25 6.75c0-1.243 1.007-2.25 2.25-2.25h2.598c.86 0 1.611.548 1.87 1.368l.6 1.8c.2.61.045 1.284-.41 1.74L8.1 10.9a11.25 11.25 0 0 0 5 5l1.293-1.002c.456-.355 1.129-.61 1.74-.41l1.8.6c.82.259 1.368 1.01 1.368 1.87V19.5c0 1.243-1.007 2.25-2.25 2.25h-.75C9.354 21.75 2.25 14.646 2.25 6.75z"/>
            </svg>
            CALL
          </a>

          <!-- 2 line: Email | Bank Details -->
          <a class="btn btn-email effect btn-eng" href="mailto:nishanmessagepvt@gmail.com?subject=Hello%20AGENT%20NISHAN&body=Hi%20Nishan%2C" target="_blank" rel="noopener" aria-label="Send email">
            <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2Zm0 4-8 5-8-5V6l8 5 8-5v2Z"/></svg>
            EMAIL
          </a>

          <button id="bank-btn" class="btn btn-bank effect btn-eng" type="button" aria-label="Open bank details">
            <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 2 2 7v2h2v9a2 2 0 0 0 2 2h4v-6h4v6h4a2 2 0 0 0 2-2V9h2V7l-10-5Z"/></svg>
            BANK DETAILS
          </button>

          <!-- 3 line: Withdrawal Imformation (full width) -->
          <button id="withdrawal-btn" class="btn btn-bank effect btn-eng span-2" type="button" aria-label="Open withdrawal info">
            <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7Zm0 9.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5Z"/></svg>
            WITHDRAWAL IMFORMATION
          </button>

          <!-- 4 line: Live Chat (full width) -->
          <button id="chat-btn" class="btn btn-chat effect btn-eng span-2" type="button" aria-label="Open live chat">
            <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M4 3h16a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2h-6.2l-3.7 2.8a1 1 0 0 1-1.6-.8V18H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Z"/>
              <circle cx="9" cy="10" r="1.4" fill="#fff"/>
              <circle cx="12" cy="10" r="1.4" fill="#fff"/>
              <circle cx="15" cy="10" r="1.4" fill="#fff"/>
            </svg>
            LIVE CHAT
          </button>
        </div>
      </section>

      <!-- AVAILABLE SITE -->
      <section class="section brands">
        <h3 class="available-title">
          AVAILABLE SITE
          <svg class="ok-icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
            <path d="M12 2a10 10 0 1 0 .001 20.001A10 10 0 0 0 12 2Zm-1.2 13.3-3.6-3.6 1.4-1.4 2.2 2.2 5-5 1.4 1.4-6.4 6.4Z"/>
          </svg>
        </h3>
        <div class="brand-grid">
          <a class="brand-tag" href="https://chill2win.fun/L?tag=d_3939851m_77801c_&site=3939851&ad=77801" target="_blank" rel="noopener" aria-label="Open 888STARZ">
            <span class="c-white">888</span><span class="c-red">STARZ</span>
          </a>
          <a class="brand-tag" href="https://reffpa.com/L?tag=d_4662170m_97c_&site=4662170&ad=97" target="_blank" rel="noopener" aria-label="Open 1XBET">
            <span class="c-white">1X</span><span class="c-blue">BET</span>
          </a>
          <a class="brand-tag" href="https://refpa00186.com/L?tag=d_4632574m_64499c_&site=4632574&ad=64499&r=promotions/first-deposit" target="_blank" rel="noopener" aria-label="Open PARIPULSE">
            <span class="c-red">PARI</span><span class="c-white">PULSE</span>
          </a>
          <a class="brand-tag" href="https://refpa3665.com/L?tag=d_4280276m_61553c_&site=4280276&ad=61553" target="_blank" rel="noopener" aria-label="Open MELBET">
            <span class="c-white">MEL</span><span class="c-yellow">BET</span>
          </a>
        </div>
        <div class="brand-note">‡∂∏‡∑î‡∂Ø‡∂Ω‡∑ä ‡∂≠‡∑ê‡∂∏‡∑ä‡∂¥‡∂≠‡∑ä ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∑ä ‡∑Ñ‡∑è ‡∂±‡∑ê‡∑Ä‡∂≠ ‡∂Ω‡∂∂‡∑è ‡∂ú‡∑ê‡∂±‡∑ì‡∂∏‡∑ä.</div>
        <div class="brand-note-en">DEPOSIT AND WITHDRAWAL</div>
      </section>

      <!-- Promo -->
      <section class="card section promo">
        <p class="promo-line">Promo Code:</p>
        <div id="copy-area" class="code-badge" title="‡∂ö‡∑ú‡∂¥‡∑í ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂ß ‡∂ë‡∂∂‡∂±‡∑ä‡∂±">VIPCNA</div>
        <button id="copy-btn" class="btn btn-copy effect" type="button" aria-label="Copy promo code">
          <svg viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v12h2V3h12V1Zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2Zm-1.5 3H9.5v2h8v-2Z"/></svg>
          Promo Code Copy
        </button>
        <p style="margin:8px 0 0; color:#cfe4ff; font-size:13px">
          ‡∂±‡∑Ä ‡∂ú‡∑í‡∂´‡∑î‡∂∏‡∑ä ‡∑É‡∑ë‡∂Ø‡∑ì‡∂∏‡∑ö‡∂Ø‡∑í ‡∂∏‡∑ô‡∂∏ ‡∂ö‡∑ö‡∂≠‡∂∫ ‡∂∑‡∑è‡∑Ä‡∑í‡∂≠‡∑è ‡∂ö‡∑ú‡∂ß ‡∑Ä‡∑è‡∑É‡∑í ‡∂Ω‡∂∂‡∑è ‡∂ú‡∂±‡∑ä‡∂±.
        </p>
      </section>

    </div>
  </main>

  <!-- Modal: Deposit Bank Details -->
  <div id="bank-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="bank-title">
    <div class="modal-card">
      <div class="modal-top">
        <h3 id="bank-title" class="modal-title">Deposit Bank Details</h3>
        <button id="bank-close" class="btn-close" type="button">Close ‚úï</button>
      </div>

      <div class="alert-red">
        <div class="title">MASTER AGENT NISHAN ‡∂ã‡∂¥‡∂Ø‡∑ô‡∑É‡∑ä</div>
        <div>( ‡∂¥‡∑Ñ‡∂≠ ‡∑É‡∂Ø‡∑Ñ‡∂±‡∑ä BANK DETAILS ‡∑Ä‡∂Ω‡∑í‡∂±‡∑ä ‡∂ï‡∂±‡∑ë‡∂∏ ‡∂ú‡∑í‡∂´‡∑î‡∂∏‡∂ö‡∂ß ‡∂∏‡∑î‡∂Ø‡∂Ω‡∑ä ‡∂∂‡∑ê‡∂ª ‡∂ö‡∂ª , ‡∂∏‡∑î‡∂Ø‡∂Ω‡∑ä ‡∂Ø‡∑ê‡∂∏‡∑ñ ‡∂∂‡∑Ä‡∂ß ‡∂î‡∂∂ ‡∑É‡∂≠‡∑î‡∑Ä ‡∂á‡∂≠‡∑í SLIP ‡∂ë‡∂ö ‡∑Ñ‡∑ù PDF ‡∂ë‡∂ö ‡∑É‡∂∏‡∂ú ‡∂î‡∂∂‡∂ú‡∑ö ‡∂ú‡∑ö‡∂∏‡∑ä ID 074 230 99 31  ‡∂∫‡∂± whatapp ‡∂Ö‡∂Ç‡∂ö‡∂∫‡∂ß ‡∑Ä‡∑í‡∂±‡∑è‡∂©‡∑í 5 ‡∂á‡∂≠‡∑î‡∑Ö‡∂≠ ‡∂∫‡∑ú‡∂∏‡∑î ‡∂ö‡∂ª‡∂±‡∑ä‡∂± . )</div>
      </div>

      <!-- I PAY -->
      <section class="bank" id="bank-ipay">
        <div class="bank-head">
          <div class="bank-name">
            <svg class="bank-logo" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M20 7H4a3 3 0 0 0-3 3v6a3 3 0 0 0 3 3h16a2 2 0 0 0 2-2v-2h-6a3 3 0 1 1 0-6h6V9a2 2 0 0 0-2-2Zm-6 5a1 1 0 1 0 0 2h6v-2h-6Z"/>
            </svg>
            I PAY
          </div>
          <button class="copy-all" data-copy-group="ipay">Copy All</button>
        </div>
        <div class="row">
          <div class="label">ùòºùôòùôòùô§ùô™ùô£ùô© ùôâùô§</div><div class="arrow">‚òõ</div>
          <div class="value" data-group="ipay">074 306 6234</div>
          <button class="row-copy" data-copy="074 306 6234" type="button" aria-label="Copy account number">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v12h2V3h12V1Zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2Z"/></svg> Copy
          </button>
        </div>
        <div class="row">
          <div class="label">ùòºùôòùôòùô§ùô™ùô£ùô© ùôâùôñùô¢ùôö</div><div class="arrow">‚òõ</div>
          <div class="value" data-group="ipay">Sasana rt</div>
          <button class="row-copy" data-copy="Sasana rt" type="button" aria-label="Copy account name">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v12h2V3h12V1Zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2Z"/></svg> Copy
          </button>
        </div>
      </section>

      <!-- BOC -->
      <section class="bank" id="bank-boc">
        <div class="bank-head">
          <div class="bank-name">
            <svg class="bank-logo" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M12 2 3 7v2h18V7l-9-5Z"/>
              <path d="M4 9h3v8H4zM10.5 9h3v8h-3zM17 9h3v8h-3z"/>
              <path d="M3 19h18v2H3z"/>
            </svg>
            BOC
          </div>
          <button class="copy-all" data-copy-group="boc">Copy All</button>
        </div>
        <div class="row">
          <div class="label">ùòºùôòùôòùô§ùô™ùô£ùô© ùôâùô§</div><div class="arrow">‚òõ</div>
          <div class="value" data-group="boc">0090575518</div>
          <button class="row-copy" data-copy="0090575518" type="button" aria-label="Copy account number"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v12h2V3h12V1Zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2Z"/></svg> Copy</button>
        </div>
        <div class="row">
          <div class="label">ùòºùôòùôòùô§ùô™ùô£ùô© ùôâùôñùô¢ùôö</div><div class="arrow">‚òõ</div>
          <div class="value" data-group="boc">Sasana rt</div>
          <button class="row-copy" data-copy="Sasana rt" type="button" aria-label="Copy account name"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v12h2V3h12V1Zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2Z"/></svg> Copy</button>
        </div>
      </section>

      <!-- PEOPLE'S BANK -->
      <section class="bank" id="bank-peoples">
        <div class="bank-head">
          <div class="bank-name">
            <svg class="bank-logo" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M8 10a4 4 0 1 1 3.2-6.5A4 4 0 0 1 8 10Zm8 0a4 4 0 1 1 3.2-6.5A4 4 0 0 1 16 10Zm-9 2a5 5 0 0 0-5 5v3h10v-3a5 5 0 0 0-5-5Zm10 0c-1.6 0-3 .7-4 1.8a6.9 6.9 0 0 1 2 4.2v3h8v-3c0-2.8-2.2-6-6-6Z"/>
            </svg>
            PEOPLE'S BANK
          </div>
          <button class="copy-all" data-copy-group="peoples">Copy All</button>
        </div>
        <div class="row">
          <div class="label">ùòºùôòùôòùô§ùô™ùô£ùô© ùôâùô§</div><div class="arrow">‚òõ</div>
          <div class="value" data-group="peoples">070200120065175</div>
          <button class="row-copy" data-copy="070200120065175" type="button" aria-label="Copy account number"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v12h2V3h12V1Zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2Z"/></svg> Copy</button>
        </div>
        <div class="row">
          <div class="label">ùòºùôòùôòùô§ùô™ùô£ùô© ùôâùôñùô¢ùôö</div><div class="arrow">‚òõ</div>
          <div class="value" data-group="peoples">Sasana rt</div>
          <button class="row-copy" data-copy="Sasana rt" type="button" aria-label="Copy account name"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v12h2V3h12V1Zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2Z"/></svg> Copy</button>
        </div>
        <div class="row">
          <div class="label">ùòΩùôßùôö‡∂±‡∑ä‡∂†‡∑ä</div><div class="arrow">‚òõ</div>
          <div class="value" data-group="peoples">Matugama</div>
          <button class="row-copy" data-copy="Matugama" type="button" aria-label="Copy branch"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2Z"/></svg> Copy</button>
        </div>
      </section>

      <!-- LOLC FINANCE -->
      <section class="bank" id="bank-lolc">
        <div class="bank-head">
          <div class="bank-name">
            <!-- Full-ish LOLC style logo (blue block + red bar) -->
            <svg class="bank-logo-lg" viewBox="0 0 64 64" aria-hidden="true">
              <rect x="6" y="10" width="38" height="38" rx="6" fill="#0A3B91"></rect>
              <rect x="14" y="18" width="22" height="22" rx="4" fill="#ffffff"></rect>
              <rect x="40" y="44" width="18" height="8" rx="2" fill="#D61F26"></rect>
              <text x="44" y="24" font-family="Montserrat, Arial" font-weight="900" font-size="10" fill="#0A3B91">LOLC</text>
            </svg>
            LOLC FINANCE
          </div>
          <button class="copy-all" data-copy-group="lolc">Copy All</button>
        </div>
        <div class="row">
          <div class="label">ùòºùôòùôòùô§ùô™ùô£ùô© ùôâùô§</div><div class="arrow">‚òõ</div>
          <div class="value" data-group="lolc">10310007330</div>
          <button class="row-copy" data-copy="10310007330" type="button" aria-label="Copy account number"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v12h2V3h12V1Zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2Z"/></svg> Copy</button>
        </div>
        <div class="row">
          <div class="label">ùòºùôòùôòùô§ùô™ùô£ùô© ùôâùôñùô¢ùôö</div><div class="arrow">‚òõ</div>
          <div class="value" data-group="lolc">Sasana rt</div>
          <button class="row-copy" data-copy="Sasana rt" type="button" aria-label="Copy account name"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v12h2V3h12V1Zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2Z"/></svg> Copy</button>
        </div>
        <div class="row">
          <div class="label">ùòΩùôßùôö‡∂±‡∑ä‡∂†‡∑ä</div><div class="arrow">‚òõ</div>
          <div class="value" data-group="lolc">Baduraliya</div>
          <button class="row-copy" data-copy="Baduraliya" type="button" aria-label="Copy branch"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2Z"/></svg> Copy</button>
        </div>
      </section>
    </div>
  </div>

  <!-- Modal: Withdrawal Info (separate interface) -->
  <div id="withdrawal-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="withdrawal-modal-title">
    <div class="modal-card">
      <div class="modal-top">
        <h3 id="withdrawal-modal-title" class="modal-title">WITHDRAWAL INFO</h3>
        <button id="withdrawal-close" class="btn-close" type="button">Close ‚úï</button>
      </div>

      <div class="withdrawal-title">WITHDRAWAL ADDRESS</div>
      <div class="withdrawal-note">
        ( ‡∂Ö‡∑Ä‡∑Å‡∑ä‚Äç‡∂∫ SITE ‡∂ë‡∂ö‡∂ß WITHDRAWAL ‡∂ë‡∂ö ‡∑É‡∑í‡∂Ø‡∑î ‡∂ö‡∑ú‡∂ß WITHDRAWAL ‡∑É‡∑ä‡∂ö‡∑ä‚Äç‡∂ª‡∑ì‡∂±‡∑ä ‡∑Å‡∑ú‡∂ß‡∑ä ‡∂ë‡∂ö ‡∑Ñ‡∑è ‡∂î‡∂∂‡∂ú‡∑ô BANK ‡∂ú‡∑í‡∂´‡∑î‡∂∏‡∑ä ‡∂Ö‡∂Ç‡∂ö 074 230 9931 ‡∂∫‡∂± NUMBER ‡∂ë‡∂ö‡∂ß WHATAPP ‡∑Ñ‡∂ª‡∑Ñ‡∑è ‡∂ë‡∑Ä‡∂±‡∑ä‡∂± . )
      </div>

      <div class="addr-grid">
        <!-- 1XBET -->
        <div class="addr-block">
          <div class="addr-brand"><span class="c-white">1X</span><span class="c-blue">BET</span></div>
          <div class="addr-row"><span class="label">CITY</span><span class="arrow">‚òõ</span><span class="value">BADURALIYA</span></div>
          <div class="addr-row"><span class="label">STREET</span><span class="arrow">‚òõ</span><span class="value">NISHAN SERVICE</span></div>
        </div>

        <!-- PARIPULSE -->
        <div class="addr-block">
          <div class="addr-brand"><span class="c-red">PARI</span><span class="c-white">PULSE</span></div>
          <div class="addr-row"><span class="label">CITY</span><span class="arrow">‚òõ</span><span class="value">HORANA</span></div>
          <div class="addr-row"><span class="label">STREET</span><span class="arrow">‚òõ</span><span class="value">NISHAN SERVICE</span></div>
        </div>

        <!-- 888STARZ -->
        <div class="addr-block">
          <div class="addr-brand"><span class="c-white">888</span><span class="c-red">STARZ</span></div>
          <div class="addr-row"><span class="label">CITY</span><span class="arrow">‚òõ</span><span class="value">BADURALIYA</span></div>
          <div class="addr-row"><span class="label">STREET</span><span class="arrow">‚òõ</span><span class="value">NISHAN SERVICE</span></div>
        </div>

        <!-- MELBET -->
        <div class="addr-block">
          <div class="addr-brand"><span class="c-white">MEL</span><span class="c-yellow">BET</span></div>
          <div class="addr-row"><span class="label">CITY</span><span class="arrow">‚òõ</span><span class="value">BADURALIYA</span></div>
          <div class="addr-row"><span class="label">STREET</span><span class="arrow">‚òõ</span><span class="value">NISHAN SERVICE</span></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Live Chat Modal -->
  <div id="chat-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="chat-title">
    <div class="chat-card">
      <div class="chat-top">
        <h3 class="chat-title" id="chat-title">
          <span class="dot"></span> Live Chat
        </h3>
        <button id="chat-close" class="btn-close" type="button">Close ‚úï</button>
      </div>

      <!-- Name gate (show until name is set) -->
      <div id="name-gate" class="name-gate" aria-hidden="false">
        <div class="name-card">
          <h4 class="name-title">‡∂î‡∂∫‡∑è‡∂ú‡∑ö ‡∂±‡∂∏ Type ‡∂ö‡∂ª Start ‡∂ö‡∂ª‡∂±‡∑ä‡∂±</h4>
          <div class="name-row">
            <input id="name-input" class="name-input" type="text" placeholder="e.g. Nimal" maxlength="24" />
            <button id="name-start" class="name-start" type="button">Start</button>
          </div>
        </div>
      </div>

      <div id="chat-body" class="chat-body" aria-live="polite"></div>

      <div class="chat-input-row">
        <textarea id="chat-input" class="chat-input" placeholder="Type message..." disabled></textarea>
        <button id="chat-send" class="chat-send" type="button" disabled>
          <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M2 21 23 12 2 3v7l15 2-15 2v7z"/></svg>
          Send
        </button>
      </div>
    </div>
  </div>

  <!-- Toast -->
  <div id="toast" class="toast" role="status" aria-live="polite">Copied!</div>

  <!-- Parse JS SDK (browser) -->
  <script src="https://unpkg.com/parse/dist/parse.min.js"></script>

  <script>
    // Splash -> reveal app
    window.addEventListener('load', () => {
      const splash = document.getElementById('splash');
      const app = document.getElementById('app');
      setTimeout(() => {
        splash.classList.add('hide');
        app.classList.add('show');
        app.removeAttribute('aria-hidden');
      }, 1200);
    });

    // Dynamic Online Count
    const onlineSpan = document.getElementById('online-count');
    function randInt(min, max){ return Math.floor(Math.random()*(max-min+1))+min; }
    function updateOnline(){ const n = randInt(94,150); if (onlineSpan){ onlineSpan.textContent = n; } }
    updateOnline(); setInterval(updateOnline, 10000);

    // Toast helper
    const toast = document.getElementById('toast');
    function showToast(msg, rgb){
      toast.textContent = msg;
      if (rgb) toast.style.setProperty('--btn-rgb', rgb);
      else toast.style.removeProperty('--btn-rgb');
      toast.classList.add('effect','show');
      setTimeout(()=>{ toast.classList.remove('show'); toast.classList.remove('effect'); }, 1800);
    }
    async function copyText(text, toastMsg){
      try{ await navigator.clipboard.writeText(text); }
      catch(e){
        const ta = document.createElement('textarea'); ta.value = text; document.body.appendChild(ta); ta.select();
        try{ document.execCommand('copy'); }catch(e){}
        document.body.removeChild(ta);
      }
      showToast(toastMsg || ('Copied: ' + text), '34,197,94');
    }

    // Promo code copy
    const PROMO = 'VIPCNA';
    document.getElementById('copy-btn')?.addEventListener('click', ()=> copyText(PROMO, 'Promo Code copied: VIPCNA'));
    document.getElementById('copy-area')?.addEventListener('click', ()=> copyText(PROMO, 'Promo Code copied: VIPCNA'));

    // Bank modal open/close
    const bankBtn = document.getElementById('bank-btn');
    const bankModal = document.getElementById('bank-modal');
    const bankClose = document.getElementById('bank-close');

    bankBtn?.addEventListener('click', ()=>{
      bankModal.classList.add('show');
      document.body.style.overflow='hidden';
    });
    function closeBank(){ bankModal.classList.remove('show'); document.body.style.overflow=''; }
    bankClose?.addEventListener('click', closeBank);
    bankModal?.addEventListener('click', (e)=>{ if(e.target === bankModal) closeBank(); });

    // Copy-all per bank
    document.querySelectorAll('[data-copy-group]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const id = btn.getAttribute('data-copy-group');
        const values = Array.from(document.querySelectorAll('[data-group="'+id+'"]')).map(el=>{
          const label = el.previousElementSibling?.previousElementSibling?.textContent.trim().replace(/\s+/g,' ');
          return label + ' ‚òõ ' + el.textContent.trim();
        });
        const title = btn.closest('.bank')?.querySelector('.bank-name')?.textContent.trim() || 'BANK';
        const allText = [title, ...values].join('\n');
        copyText(allText, 'Bank details copied');
      });
    });

    // WITHDRAWAL modal open/close
    const wBtn = document.getElementById('withdrawal-btn');
    const wModal = document.getElementById('withdrawal-modal');
    const wClose = document.getElementById('withdrawal-close');
    wBtn?.addEventListener('click', ()=>{ wModal.classList.add('show'); document.body.style.overflow='hidden'; });
    function closeWithdrawal(){ wModal.classList.remove('show'); document.body.style.overflow=''; }
    wClose?.addEventListener('click', closeWithdrawal);
    wModal?.addEventListener('click', (e)=>{ if(e.target === wModal) closeWithdrawal(); });

    // LIVE CHAT (Parse + LiveQuery + Poll fallback + Double-Tap/Click delete)
    const APP_ID = 'nc5I6DzWj5iO3eNIMxe2JURwgOO2DU7edscnj4EL';
    const JS_KEY = 'Q6inkrk427w5F5d6seDCMFSUykacKA35hs5sEDSp';
    const SERVER_URL = 'https://parseapi.back4app.com';
    const LIVE_URL = 'wss://parsews.back4app.com';

    Parse.initialize(APP_ID, JS_KEY);
    Parse.serverURL = SERVER_URL;
    Parse.liveQueryServerURL = LIVE_URL;

    const ROOM = 'public';
    const CLASS_NAME = 'ChatMessage';

    const chatBtn2 = document.getElementById('chat-btn');
    const chatModal2 = document.getElementById('chat-modal');
    const chatClose2 = document.getElementById('chat-close');
    const nameGate = document.getElementById('name-gate');
    const nameInput = document.getElementById('name-input');
    const nameStart = document.getElementById('name-start');
    const chatBody = document.getElementById('chat-body');
    const chatInput = document.getElementById('chat-input');
    const chatSend = document.getElementById('chat-send');

    let myName = localStorage.getItem('livechat_name') || '';
    let chatSub = null;
    const seenIds = new Set();
    const pendingByCid = new Map();
    let lastFetched = new Date(0);
    let pollTimer = null;

    function openChat(){
      chatModal2.classList.add('show');
      document.body.style.overflow='hidden';
      if(myName){
        nameGate.setAttribute('aria-hidden','true');
        nameGate.style.display='none';
        enableChat();
        connectLiveChat();
      }else{
        nameGate.setAttribute('aria-hidden','false');
        nameGate.style.display='flex';
        nameInput.focus();
      }
    }
    function closeChat(){
      chatModal2.classList.remove('show');
      document.body.style.overflow='';
    }
    chatBtn2?.addEventListener('click', openChat);
    chatClose2?.addEventListener('click', closeChat);
    chatModal2?.addEventListener('click', (e)=>{ if(e.target === chatModal2) closeChat(); });

    nameStart?.addEventListener('click', ()=>{
      const v = (nameInput.value || '').trim();
      if(!v){ nameInput.focus(); return; }
      myName = v;
      localStorage.setItem('livechat_name', myName);
      nameGate.setAttribute('aria-hidden','true');
      nameGate.style.display='none';
      enableChat();
      connectLiveChat();
    });
    nameInput?.addEventListener('keydown', (e)=>{ if(e.key === 'Enter'){ e.preventDefault(); nameStart.click(); } });

    function enableChat(){
      chatInput.disabled = false;
      chatSend.disabled = false;
      chatInput.focus();
    }

    function esc(str){ return (str || '').replace(/[&<>"']/g, s => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[s])); }
    function timeStr(d){ try{ return new Date(d).toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'}); }catch{ return ''; } }

    function appendMsgEl(kind, name, text, date, opts={}){
      const wrap = document.createElement('div');
      wrap.className = 'chat-msg ' + (kind === 'you' ? 'you' : 'other');
      if(opts.id){ wrap.dataset.id = opts.id; }
      if(opts.cid){ wrap.dataset.cid = opts.cid; }
      const safeName = esc(name);
      const safeText = esc(text).replace(/\n/g,'<br>');
      const nameLine = (kind === 'you' ? '' : `<strong>${safeName}</strong><br>`);
      const timeHtml = `<span class="chat-time">${timeStr(date)}</span>`;
      const statusHtml = opts.status ? `<span class="status ${opts.statusClass||''}">${opts.status}</span>` : '';
      wrap.innerHTML = `${nameLine}${safeText}${timeHtml}${statusHtml}`;
      chatBody.appendChild(wrap);
      chatBody.scrollTop = chatBody.scrollHeight;
      return wrap;
    }

    function uuid(){ return 'cid-' + Date.now().toString(36) + '-' + Math.random().toString(36).slice(2,10); }

    function startPolling(){
      if(pollTimer) return;
      pollTimer = setInterval(async ()=>{
        try{
          const ChatMessage = Parse.Object.extend(CLASS_NAME);
          const q = new Parse.Query(ChatMessage);
          q.equalTo('room', ROOM);
          q.greaterThan('createdAt', lastFetched);
          q.ascending('createdAt');
          q.limit(50);
          const results = await q.find();
          results.forEach(obj=>{
            if(seenIds.has(obj.id)) return;
            seenIds.add(obj.id);
            const name = obj.get('name') || 'Unknown';
            const text = obj.get('text') || '';
            const cid = obj.get('cid') || '';
            const dt = obj.createdAt || new Date();
            if(dt > lastFetched) lastFetched = dt;

            if(cid && pendingByCid.has(cid)){
              const info = pendingByCid.get(cid);
              info.el.dataset.id = obj.id;
              const timeEl = info.el.querySelector('.chat-time');
              if(timeEl) timeEl.textContent = timeStr(dt);
              let statusEl = info.el.querySelector('.status');
              if(!statusEl){
                statusEl = document.createElement('span');
                statusEl.className = 'status sent';
                statusEl.textContent = 'Sent ‚úì';
                info.el.appendChild(statusEl);
              }else{
                statusEl.textContent = 'Sent ‚úì';
                statusEl.classList.remove('failed');
                statusEl.classList.add('sent');
              }
              pendingByCid.delete(cid);
              return;
            }

            const kind = (name === myName) ? 'you' : 'other';
            appendMsgEl(kind, name, text, dt, { id: obj.id });
          });
        }catch(e){
          console.error('Poll failed:', e);
        }
      }, 2000);
    }

    async function connectLiveChat(){
      if(chatSub){ return; }

      const ChatMessage = Parse.Object.extend(CLASS_NAME);

      // Start polling fallback (every 2s)
      startPolling();

      // Load history first
      try{
        const histQ = new Parse.Query(ChatMessage);
        histQ.equalTo('room', ROOM);
        histQ.ascending('createdAt');
        histQ.limit(100);
        const results = await histQ.find();
        results.forEach(obj=>{
          if(seenIds.has(obj.id)) return;
          seenIds.add(obj.id);
          const name = obj.get('name') || 'Unknown';
          const text = obj.get('text') || '';
          const dt = obj.createdAt || new Date();
          if(dt > lastFetched) lastFetched = dt;
          const kind = (name === myName) ? 'you' : 'other';
          appendMsgEl(kind, name, text, dt, { id: obj.id });
        });
      }catch(e){
        console.error('History load failed:', e);
      }

      // Subscribe real-time
      try{
        const query = new Parse.Query(ChatMessage);
        query.equalTo('room', ROOM);
        chatSub = await query.subscribe();

        chatSub.on('open', () => {
          appendMsgEl('other', 'System', '‚úÖ Connected to Live Chat', new Date());
        });

        chatSub.on('create', (obj) => {
          if(seenIds.has(obj.id)) return;
          seenIds.add(obj.id);

          const name = obj.get('name') || 'Unknown';
          const text = obj.get('text') || '';
          const cid = obj.get('cid') || '';
          const dt = obj.createdAt || new Date();
          if(dt > lastFetched) lastFetched = dt;

          if(cid && pendingByCid.has(cid)){
            const info = pendingByCid.get(cid);
            info.el.dataset.id = obj.id;
            const timeEl = info.el.querySelector('.chat-time');
            if(timeEl) timeEl.textContent = timeStr(dt);
            let statusEl = info.el.querySelector('.status');
            if(!statusEl){
              statusEl = document.createElement('span');
              statusEl.className = 'status sent';
              statusEl.textContent = 'Sent ‚úì';
              info.el.appendChild(statusEl);
            }else{
              statusEl.textContent = 'Sent ‚úì';
              statusEl.classList.remove('failed');
              statusEl.classList.add('sent');
            }
            pendingByCid.delete(cid);
            return;
          }

          const kind = (name === myName) ? 'you' : 'other';
          appendMsgEl(kind, name, text, dt, { id: obj.id });
        });

        chatSub.on('delete', (obj) => {
          const el = chatBody.querySelector(`.chat-msg[data-id="${obj.id}"]`);
          if(el) el.remove();
        });

        chatSub.on('error', (err) => {
          console.error('LiveQuery error:', err);
          appendMsgEl('other', 'System', '‚ö†Ô∏è Connection issue. Using backup sync‚Ä¶', new Date());
        });
      }catch(e){
        console.error('Subscribe failed:', e);
        appendMsgEl('other', 'System', '‚ö†Ô∏è Live updates unavailable, using backup sync.', new Date());
      }
    }

    async function sendMessage(){
      const txt = (chatInput.value || '').trim();
      if(!txt) return;

      const cid = uuid();
      const el = appendMsgEl('you', myName, txt, new Date(), { cid, status:'Sending‚Ä¶' });
      pendingByCid.set(cid, { el });
      chatInput.value = '';

      try{
        const ChatMessage = Parse.Object.extend(CLASS_NAME);
        const msg = new ChatMessage();
        msg.set('name', myName);
        msg.set('text', txt);
        msg.set('room', ROOM);
        msg.set('cid', cid);
        const saved = await msg.save();

        // Mark as sent immediately and attach objectId
        el.dataset.id = saved.id;
        const timeEl = el.querySelector('.chat-time');
        if(timeEl) timeEl.textContent = timeStr(saved.createdAt || new Date());
        let statusEl = el.querySelector('.status');
        if(!statusEl){
          statusEl = document.createElement('span');
          statusEl.className = 'status sent';
          statusEl.textContent = 'Sent ‚úì';
          el.appendChild(statusEl);
        }else{
          statusEl.textContent = 'Sent ‚úì';
          statusEl.classList.remove('failed');
          statusEl.classList.add('sent');
        }
      }catch(e){
        console.error('Send failed:', e);
        const st = el.querySelector('.status');
        if(st){
          st.textContent = 'Failed ‚úó';
          st.classList.add('failed');
        }
      }
    }

    // Double-CLICK (desktop) to delete own message
    chatBody.addEventListener('dblclick', async (e)=>{
      const el = e.target.closest('.chat-msg.you');
      if(!el) return;
      try{ await deleteOwnMessage(el); }catch(err){ console.error('Delete failed:', err); }
    });

    // Double-TAP (mobile) to delete own message
    let lastTap = { time: 0, el: null };
    chatBody.addEventListener('touchend', async (e)=>{
      const el = e.target.closest('.chat-msg.you');
      const now = Date.now();
      if(!el){ lastTap.el = null; lastTap.time = 0; return; }
      if(lastTap.el === el && (now - lastTap.time) < 350){
        e.preventDefault();
        try{ await deleteOwnMessage(el); }catch(err){ console.error('Delete failed:', err); }
        lastTap.el = null; lastTap.time = 0;
      }else{
        lastTap.el = el; lastTap.time = now;
        setTimeout(()=>{ if(Date.now() - now >= 360 && lastTap.el === el){ lastTap.el = null; lastTap.time = 0; } }, 360);
      }
    }, { passive: false });

    async function deleteOwnMessage(el){
      const objId = el.dataset.id;
      const cid = el.dataset.cid;

      // Optimistic UI remove instantly
      el.remove();
      if(cid && pendingByCid.has(cid)) pendingByCid.delete(cid);

      try{
        if(objId){
          const Obj = Parse.Object.extend(CLASS_NAME);
          const o = new Obj();
          o.id = objId;
          await o.destroy();
          return;
        }
        if(cid){
          const Obj = Parse.Object.extend(CLASS_NAME);
          const q = new Parse.Query(Obj);
          q.equalTo('room', ROOM);
          q.equalTo('cid', cid);
          q.equalTo('name', myName);
          const found = await q.first();
          if(found){ await found.destroy(); return; }
        }
      }catch(e){
        console.error('Backend delete error:', e);
      }
    }

    // LIVE CHAT UI events
    chatSend?.addEventListener('click', sendMessage);
    chatInput?.addEventListener('keydown', (e)=>{
      if(e.key === 'Enter' && !e.shiftKey){
        e.preventDefault();
        sendMessage();
      }
    });
  </script>
</body>
</html>
